<!doctype HTML>
<html>
  <head>
    <title>ShelterMe - Web App</title>
    <link rel="stylesheet" type="text/css" href="/static/css/base.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <meta charset="utf-8">
    <meta name="viewport"  content="width=device-width, initial-scale=1, shrink-to-fit=no">
    {% block head %}
    {% endblock %}
  </head>
  <body>
    {% if message != "" %}
    <div class="container">
      <div class="row" id="message-row">
	<h2 class="alert text-center">{{message}}</h2>
      </div>
    </div>
    {% endif %}
    <div class="container"> <!-- Nav -->
      <a class="custom-link" href="/">
	<button class="btn btn-default btn-block" id="homeButton">
	  Home
	</button>
      </a>
    </div>
    <div class="container">
      <div class="row">
      <div class="col-sm-3"></div>
      <div class="col-sm-6">
    	<h1 class="text-center">
	  {% block banner %}
	  Shelter Me
	  {% endblock %}
	</h1>
	{% block content %}
    	<br>
    	<div class="row">
    	  <h4 id="lobby-welcome">Welcome</h4>
    	</div>
	<div class="row">
	  {% if not isLoggedIn %}
	  <div class="col-sm">
	    <button type="button" class="btn btn-default btn-block" data-toggle="modal" data-target="#loginModal">Login</button>
	  </div>
	  <div class="col-sm">
	    <button type="button" class="btn btn-default btn-block" data-toggle="modal" data-target="#registerModal">Register</button>
	  </div>
	  {% else %}
	  <div class="col-sm">
	    <a href="/logout/">
	      <button type="button" class="btn btn-default btn-block" id="logoutButton">
		Log out
	      </button>
	    </a>
	  </div>
	  {% endif %}
	  <div class="col-sm">
	    <a class="custom-link" href="/search">
	      <button class="btn btn-default btn-block" id="viewSheltersButton">
		Shelter Catalog
	      </button>
	    </a>
	  </div>
	</div>
	{% endblock %}
      </div>
      <div class="col-sm-3"></div>      
        </div>
    </div>
    {% block modals %}
    {% if not isLoggedIn %}
    <div id="loginModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
    	<!-- Modal content-->
    	<div class="modal-content">
    	  <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Login</h4>
    	  </div>
    	  <div class="modal-body">            
    	    <form id="login-form" method="post" action="/login/">
    	      <div class="form-group">
    		<label for="loginEmail">Email: </label>
    		<input type="text" name="email" class="form-control" id="loginEmail">
	      </div>
	      <div class="form-group">
		<label for="loginPassword">Password: </label>
    		<input type="password" name="password" class="form-control" id="loginPassword">
    	      </div>
    	      <button class="btn btn-primary" id="login-submit">Submit</button>
    	    </form>
    	  </div>
    	</div>

      </div>
    </div>

    <div id="registerModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
    	<!-- Modal content-->
    	<div class="modal-content">
    	  <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Register</h4>
    	  </div>
    	  <div class="modal-body">            
    	    <form id="register-form" method="post" action="/register/">
    	      <div class="form-group">
    		<label for="registerEmail">Email: </label>
    		<input type="text" name="email" class="form-control" id="registerEmail">
	      </div>
	      <div class="form-group">
		<label for="registerPassword">Password: </label>
    		<input type="password" name="password" class="form-control" id="registerPassword">
	      </div>
	      <div class="form-group row">
		<label for="registerUserType"
		       class="col-form-label col-form-label-sm col-sm-4 pt-0">User Type</label>
		<select class="form-control form-control-sm col-sm-8" name="userType">
		  <option>Homeless</option>
		  <option>Volunteer</option>
		  <option>Admin</option>
		</select>
	      </div>
    	      <button class="btn btn-primary" id="register-submit">Submit</button>
    	    </form>
    	  </div>
    	</div>

      </div>
    </div>
    {% endif %}
    {% endblock %}
    <!-- TODO replace below -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"> </script>
    {% block js %}
    {% endblock %}
  </body>
</html>
